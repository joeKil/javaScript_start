<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>난수를 발생시켜 맞추는 게임</title>
</head>
<body>
<script>
    var low = 0; // 범위의 최소값
    var high = 0; // 범위의 최고값
    var card = 0; // 정답 저장 변수
    // 게임의 정답을 맞추기 위해서 무한루프를 돌고 있다.

    while(true) {
        var count = 0; // 사용자의 시도 횟수
        low = 0;
        high = 99;
        // Math.random()*100 // 0.9가 나오면 100하고 곱하면 99됨. 심해지면 실수로 반환함.
        Math.floor(Math.random()*100); // 0~99까지의 난수를 발생
        alert("수를 결정하였습니다. 맞춰 보세요");

        // 내부 루프의 경우는 정해진 난수를 맞출때까지 실행하는 것
        while(true) {
            var n = 0;
            alert(low + " - " + high); // 값의 범위를 출력
            count++;
            alert("시도횟수 : " + count + "번째");

            n = prompt("숫자를 입력하세요!"); // 사용자로부터 숫자를 입력받음
            n = parseInt(n);

            if(n > high || n < low) {
                alert("값의 범위를 벗어났어요.")
                // 일종의 예외처리
            }
            else {
                // 정상적인 범위의 수가 입력된 경우
                if(n == card) {
                    alert("정답입니다.");
                    break;
                }
                else if(n > card){
                    // 입력된 값이 정답보다 높은 수라면..
                    alert("정답은 더 낮은 수 입니다.");
                    high = n; // 범위를 재지정하기 위해서 값을 대입을 하고 있다.
                }
                else {
                    // 입력된 값이 정답보다 낮은 수라면..
                    alert("정답보다 더 높은 수 입니다.");
                    low = n;
                }
            }
        }
        alert("시도횟수는 " + count + "입니다.");
        var con = confirm("다시 게임을 하시겠습니까?");
        if(con == false){
            break;
        }
    }

</script>
</body>
</html>
